(this["webpackJsonpmr-robot"]=this["webpackJsonpmr-robot"]||[]).push([[0],{25:function(t,e,n){t.exports=n(39)},30:function(t,e,n){},31:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),i=(n(30),n(2)),u=n(8),l=n(7),s=(n(31),n(6)),m=n(4),f=n.n(m),d=n(14),p=n(10),h=n(11),b=n(13),v=n(12),E=0,g=["Bubili","Shampudo","Grulif","Shtifas","Flidar","Bamkid","Izmerulu","Shilk"].map((function(t){return Object(s.a)({},O(),{_id:k(),name:t})}));function y(t){return t.sort((function(t,e){return t.name.toLocaleLowerCase()<e.name.toLocaleLowerCase()?-1:t.name.toLocaleLowerCase()>e.name.toLocaleLowerCase()?1:0}))}function O(){return{_id:E++,name:"",giftsCount:0}}var w={getRobots:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(e,n){var a=g,r=t.term;r&&(a=g.filter((function(t){return t.name.toLocaleLowerCase().includes(r)}))),e(y(a))}))},getRobotById:function(t){return console.log("robots",g),new Promise((function(e,n){var a=g.find((function(e){return e._id===t}));a?e(JSON.parse(JSON.stringify(a))):n("Robot id ".concat(t," not found!"))}))},deleteRobot:function(t){return new Promise((function(e,n){var a=g.findIndex((function(e){return e._id===t}));-1!==a&&g.splice(a,1),e()}))},saveRobot:function(t){return t._id?function(t){return new Promise((function(e,n){var a=g.findIndex((function(e){return t._id===e._id}));-1!==a&&(g[a]=t),e(t)}))}(t):function(t){return new Promise((function(e,n){t._id=k(),g.push(t),e(t)}))}(t)},getEmptyRobot:O};function k(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}var j=function(t){var e=t.robot;return r.a.createElement("div",{key:e._id},e.name)},B=function(t){return r.a.createElement("div",{className:"RobotList"},t.robots.map((function(t){return r.a.createElement(u.b,{to:"/robot/"+t._id,key:t._id},r.a.createElement(j,{robot:t}))})))},C=n(16),R=function(t){Object(b.a)(n,t);var e=Object(v.a)(n);function n(t){var a;return Object(p.a)(this,n),(a=e.call(this,t)).state={term:""},a.onChangeHandler=function(t){var e=t.target,n=e.value,r=e.name;a.setState(Object(C.a)({},r,n),(function(){a.props.onFilter(Object(s.a)({},a.state))}))},a.state=Object(s.a)({},t.filterBy),a}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"Robot Name",onChange:this.onChangeHandler,name:"term",value:this.state.term}))}}]),n}(a.Component),S=function(t){Object(b.a)(n,t);var e=Object(v.a)(n);function n(){var t;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={robots:[],filterBy:{term:"",color:"",isActive:!1}},t.loadRobots=Object(d.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getRobots(t.state.filterBy);case 2:n=e.sent,t.setState({robots:n});case 4:case"end":return e.stop()}}),e)}))),t.onFilterHandler=function(e){console.log("hi",e),t.setState((function(t){return{filterBy:Object(s.a)({},t.filterBy,{},e)}}),t.loadRobots)},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=Object(d.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.loadRobots();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(R,{filterBy:this.state.filterBy,onFilter:this.onFilterHandler}),"ROBOTS SHOULD BE HERE",r.a.createElement(B,{robots:this.state.robots}))}}]),n}(a.Component),x=function(t){return console.log("about's props",t),r.a.createElement("div",null,r.a.createElement("h2",null,"ABOUT US"))},L=function(t){Object(b.a)(n,t);var e=Object(v.a)(n);function n(){var t;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={robot:null},t.onSendGiftClickHandler=function(){var e=Object(d.a)(f.a.mark((function e(n){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(s.a)({},t.state.robot)).giftsCount++,e.next=4,w.saveRobot(a);case 4:r=e.sent,t.setState({robot:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onGoBackClickHandler=function(e){t.props.history.go(-1)},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var t=Object(d.a)(f.a.mark((function t(){var e,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.match.params.id,t.next=3,w.getRobotById(e);case 3:n=t.sent,this.setState({robot:n});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(t,e){}},{key:"render",value:function(){var t=this.state.robot;if(!t)return r.a.createElement("div",null,"Loading! :) ");return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.onGoBackClickHandler},"Go Back"),r.a.createElement("h1",null,t.name),r.a.createElement("div",null,"\ud83c\udf81".repeat(t.giftsCount)),r.a.createElement("button",{onClick:this.onSendGiftClickHandler},"Send \ud83c\udf81"),r.a.createElement("img",{style:{height:"100px"},src:"https://robohash.org/".concat(t.name,".png"),alt:""}))}}]),n}(a.Component),H=(n(38),function(t){return r.a.createElement("nav",{className:"NavBar"},r.a.createElement(u.c,{activeClassName:"active",exact:!0,to:"/"},"HOME"),"| ",r.a.createElement(u.c,{to:"/about"},"ABOUT"))}),_=Object(i.a)();var N=function(t){return console.log("app's props:",t),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Mr.Robot"),r.a.createElement(u.a,{history:_},r.a.createElement(H,null),r.a.createElement("main",null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:S}),r.a.createElement(l.a,{path:"/about",component:x}),r.a.createElement(l.a,{path:"/robot/:id",component:L})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.f842e554.chunk.js.map